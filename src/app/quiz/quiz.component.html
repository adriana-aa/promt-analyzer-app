<div class="quiz-container container-fluid">

  <div class="title">SAVE THE EARTH</div>

  <mat-dialog-content>

    <div *ngIf="!quizCompleted">

      <div class="question">
        <h3>{{ currentQuestion.question }}</h3>
      </div>

      <div class="options row g-2">
        <div 
          *ngFor="let option of currentQuestion.options"
          class="col-12 col-md-6">
          <button
            (click)="selectOption(option)"
            [disabled]="feedback !== null"
            [ngClass]="{
              selected: option === selectedOption,
              correct: feedback === 'correct' && option === selectedOption,
              wrong: feedback === 'wrong' && option === selectedOption
            }"
            class="option-button w-100">
            {{ option }}
          </button>
        </div>
      </div>

      <div class="submit-button" *ngIf="selectedOption && !feedback">
        <button mat-button (click)="submitAnswer()" class="submit-btn">Submit</button>
      </div>

    </div>

    <div *ngIf="quizCompleted" class="quiz-completed">
      <h3>Â¡Quiz completed!</h3>
      <p>Score: {{ score }} / {{ questions.length }}</p>
    </div>

  </mat-dialog-content>

</div>

<mat-dialog-actions class="dialog-actions">
  <button mat-button mat-dialog-close class="end-btn">End Quiz</button>
</mat-dialog-actions>